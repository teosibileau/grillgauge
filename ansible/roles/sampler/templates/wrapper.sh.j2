#!/bin/bash
# GrillGauge Sampler Dashboard Launcher
# Auto-generated by Ansible

set -e

CONFIG="/etc/sampler/grillgauge.yml"

# Check if config exists
if [ ! -f "$CONFIG" ]; then
    echo "‚ùå Error: Dashboard config not found at $CONFIG"
    exit 1
fi

# Check if required services are running
echo "üîç Checking service status..."
for service in grillgauge prometheus; do
    if ! systemctl is-active --quiet $service; then
        echo "‚ö†Ô∏è  Warning: $service service is not running"
        echo "   Run: sudo systemctl start $service"
    else
        echo "‚úÖ $service is running"
    fi
done

echo ""
echo "üöÄ Launching GrillGauge Dashboard..."
echo "   Press 'q' to quit"
echo ""

# Launch Sampler with config
exec /usr/local/bin/sampler -c "$CONFIG"
